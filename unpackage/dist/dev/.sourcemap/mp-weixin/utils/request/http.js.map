{"version":3,"file":"http.js","sources":["utils/request/http.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// 创建一个 axios 实例\r\nconst instance = axios.create({\r\n    baseURL: process.env.VUE_APP_API_BASE_URL, // API 的基础 URL，可以从环境变量中获取\r\n    timeout: 5000, // 请求超时时间（毫秒）\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// 请求拦截器\r\ninstance.interceptors.request.use(\r\n    (config) => {\r\n        // 在发送请求之前做些什么，例如添加 token 到 headers\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            config.headers['Authorization'] = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => {\r\n        // 对请求错误做些什么\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// 响应拦截器\r\ninstance.interceptors.response.use(\r\n    (response) => {\r\n        // 对响应数据做些什么，例如统一处理响应结构\r\n        const data = response.data;\r\n        if (data.code === 200) {\r\n            return data.result; // 返回实际的数据部分\r\n        } else {\r\n            // 处理业务逻辑错误\r\n            console.error('API Error:', data.message);\r\n            return Promise.reject(new Error(data.message));\r\n        }\r\n    },\r\n    (error) => {\r\n        // 对响应错误做些什么，例如网络错误、服务器错误等\r\n        console.error('Network Error:', error);\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// 封装 GET 请求\r\nexport function get(url, params) {\r\n    return instance.get(url, { params });\r\n}\r\n\r\n// 封装 POST 请求\r\nexport function post(url, data) {\r\n    return instance.post(url, data);\r\n}\r\n\r\n// 封装 PUT 请求\r\nexport function put(url, data) {\r\n    return instance.put(url, data);\r\n}\r\n\r\n// 封装 DELETE 请求\r\nexport function del(url) {\r\n    return instance.delete(url);\r\n}"],"names":["axios","uni"],"mappings":";;AAGA,MAAM,WAAWA,cAAK,MAAC,OAAO;AAAA,EAC1B,SAAS,QAAQ,IAAI;AAAA;AAAA,EACrB,SAAS;AAAA;AAAA,EACT,SAAS;AAAA,IACL,gBAAgB;AAAA,EACnB;AACL,CAAC;AAGD,SAAS,aAAa,QAAQ;AAAA,EAC1B,CAAC,WAAW;AAER,UAAM,QAAQ,aAAa,QAAQ,OAAO;AAC1C,QAAI,OAAO;AACP,aAAO,QAAQ,eAAe,IAAI,UAAU,KAAK;AAAA,IACpD;AACD,WAAO;AAAA,EACV;AAAA,EACD,CAAC,UAAU;AAEP,WAAO,QAAQ,OAAO,KAAK;AAAA,EAC9B;AACL;AAGA,SAAS,aAAa,SAAS;AAAA,EAC3B,CAAC,aAAa;AAEV,UAAM,OAAO,SAAS;AACtB,QAAI,KAAK,SAAS,KAAK;AACnB,aAAO,KAAK;AAAA,IACxB,OAAe;AAEHC,wEAAc,cAAc,KAAK,OAAO;AACxC,aAAO,QAAQ,OAAO,IAAI,MAAM,KAAK,OAAO,CAAC;AAAA,IAChD;AAAA,EACJ;AAAA,EACD,CAAC,UAAU;AAEPA,kBAAc,MAAA,MAAA,SAAA,+BAAA,kBAAkB,KAAK;AACrC,WAAO,QAAQ,OAAO,KAAK;AAAA,EAC9B;AACL;AAGO,SAAS,IAAI,KAAK,QAAQ;AAC7B,SAAO,SAAS,IAAI,KAAK,EAAE,OAAQ,CAAA;AACvC;;"}